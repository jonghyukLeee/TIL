# 오늘 배운점

---

# AWS 심화교육(**Architecting on AWS) - 2일차**

### 스토리지

- Block
    - EBS
- File
    - EFS
        - 여러 인스턴스가 동일한 스토리지를 사용해야하는 경우
- Object
    - S3
        - 정적인 데이터에 적합
        - 적게 쓰고 여러번 읽어야하는 경우
        - CloudFront랑 같이씀 (비용 절감)
        

### AWS 데이터베이스 서비스

- RDS
    - select를 가장 많이 사용하므로, 읽기 전용 복제본을 별도로 두어서 쓰기 작업은 기존 endPoint, 읽기는 복제한 rds의 endPoint에 요청하는 방식을 주로 사용함. 최대 5개까지 복제 가능
    - mysql 쓸거면 오로라 고려. (3배정도 빠름)
- DynamoDB
    - NOSQL 데이터베이스 (Key, Value 형태)
    - PK는 파티션 키 또는 파티션키 + sort키를 합친 복합키를 사용함
- RDS 와 DynamoDB 비교
    - RDB vs NOSQL
        - 각 데이터의 일관성이 중요한 경우 RDB
        - 조회 성능(속도)가 중요한 경우 NOSQL
    - 비용
        - RDB는 인스턴스 기반이기 때문에 켜놓기만 해도 비용이 발생
        - DynamoDB는 serverless 구조이기 때문에 호출 횟수별로 비용 발생

### 모니터링

- CloudWatch
    - 지표 및 로그를 수집
        - AutoScaling 으로 인해 사라지는 EC2 인스턴스가 생길 염려가 있기 때문에 로그처리를 별도의 서비스로써 처리함.
    - 수집
    - 모니터링
    - 대응
    - 분석
- CloudTrail
    - AWS 인프라에서의 계정 활동(AWS 콘솔, CLI, 도구 및 SDK)을 로깅하고 모니터링함.
    - JSON형태
- LoadBalancer
    - 구성요소
        - 로드밸런서(ELB)
            - ALB(L7)
                - RR방식
            - NLB(L4)
                - Hash 알고리즘
            - GWLB(L3)
        - 리스너(규칙)
        - 대상 그룹(상태확인)
            - EC2 인스턴스
            - 컨테이너
- AutoScaling
    - 지정된 조건에 따라 AWS 리소스를 시작 또는 종료한다. (서버의 수평 확장 / 축소)
    - 과한 비용발생이 염려되므로 예약이나 스팟 인스턴스를 활용하여 비용 최적화 필요
    - EC2 인스턴스가 생성되는 시간도 있으므로 조기에 빠른 scale out, 시간이 지남에 따라 천천히 scale in
    

### 네트워크 2

- VPC peering
    - 다수의 VPC가 존재할경우 사용
- Route 53
    - 다양한 서비스가 존재하지만, 일반적으로 ELB를 대상으로 라우팅

# 오늘 느낀점

---

- 어제 축구한다고 수업끝나고 실습을 못했는데, 확실히 실습을 해봐야 이론적으로 배운 부분이 와닿는 것 같다..ㅋㅋㅋ 오늘은 실습까지 마무리하고 자기!
- 필기는 많이 못했지만, 오늘 정말 유익한 내용이 많았다! 이번 프로젝트에 적용하려고 했던 서비스들의 올바른 사용 목적과 일반적인 설계 방식을 미리 익힐 수 있었다^^

# 내일 목표

---

- AWS 심화교육 마지막날! 끝까지 집중하기.