# 오늘 배운점

---

## 스프링 시큐리티 보충내용

### ExceptionTranslationFilter

- 위 필터는 2가지 예외를 발생시킨다.
    - 인증 예외 (AuthenticationException)
        - AuthenticationEntryPoint 호출→ 로그인 페이지 이동 , 401 error
    - 인가 예외 (AccessDeniedException)
        - AccessDeniedHandler 호출 → denied 페이지 이동 , 403 error

### FilterSecurityInterceptor

- 최종 필터로써 인가처리를 담당한다.
- AccessDecisionManager를 통해 인가 처리를 진행함

## 이펙티브 자바

### private 생성자나 열거 타입으로 싱글턴임을 보증하라

- private 생성자
    - 생성자는 private로 감춰두고, 유일한 인스턴스에 접근할 수 있는 수단으로 public static 멤버를 하나 마련해둔다.
    private 생성자는 public static final 필드가 초기화 될 때 딱 한 번만 호출된다.
    - 정적 팩터리 메서드를 하나 둬도 됨.
- 원소가 하나인 열거 타입(Enum) 선언
    - public 필드 방식과 비슷하지만, 더 간결하고 추가 노력 없이 직렬화 할 수 있다.
    - 조금 부자연스러울 수 있지만 대부분 상황에서는 원소가 하나뿐인 열거 타입이 싱글턴을 만드는 가장 좋은 방법이다.
    - 단, 만들려는 싱글턴이 Enum 클래스를 상속해야 한다면 이 방법은 사용할 수 없다.

### 인스턴스화를 막으려거든 private 생성자를 사용하라

- 생성자를 명시하지 않으면 컴파일러가 기본 생성자를 public으로 만들어 버리기 때문에, 이를 방지하기 위해 private 생성자를 하나 두어 미연에 방지할 수 있다.
- 이 때, 주석을 통해 생성 용도를 명시해주면 좋다.

### 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라

- 사용되는 자원에 따라 동작이 달라지는 클래스에는 정적 유틸리티 클래스나 싱글턴 방식이 적합하지 않다.
- 대신 클래스가 여러 자원 인스턴스를 지원해야 하며, 인스턴스를 생성할 때 생성자에 필요한 자원을 넘겨주는 방식을 쓰면 된다.
- 의존 객체 주입은 클래스의 유연성, 재사용성, 테스트 용이성을 개선해준다.

### 불필요한 객체 생성을 피하라

- 똑같은 기능의 객체를 매번 생성하기 보다는 객체 하나를 재사용하는 편이 나을 때가 많다.

### 다 쓴 객체 참조를 해제하라

- 메모리 누수는 겉으로 잘 드러나지 않기 때문에 예방법을 익혀두는 것이 매우 중요하다.

# 오늘 느낀점

---

- 소마 지원금을 통해 다양한 도서들을 접하다 보니, 오늘 문득 지나치게 이론적인 부분만 파고 있지는 않나 하는생각이 들었다. 
돌이켜보니, 최근 알고리즘 문제 풀이를 제외하고 직접 코드를 작성해본지 꽤 오래 된 것 같아서, 이론공부도 중요하지만 내일부터는 억지로라도 개발을 진행하면서 직접 체득해야겠다.

# 내일 목표

---

- jwt 짧은 복습 및 로그인 개발 진행
- 남은시간 이펙티브 자바
