# 오늘 배운점

---

## 무중단 배포 방식

### 롤링 배포

![1](https://user-images.githubusercontent.com/79312551/181293180-3e5fbbda-31a9-4efb-8804-0502951a8a0b.png)

- 가장 기본적인 방식
- 사용 중인 인스턴스 내에서 새 버전을 **점진적으로 교체**하는 것
- 서비스 중인 인스턴스 하나를 로드밸런서에서 라우팅하지 않도록 한 뒤, 새 버전을 적용하고 다시 라우팅
- 인스턴스마다 차례로 배포를 진행하기 때문에 상황에 따라 쉽게 롤백 할 수 있다는 장점
- 가용되는 인스턴스가 한정적일 경우 사용되며, 새 버전을 배포하는 과정에서 서비스 중인 인스턴스 수가 일시적으로 감소하기 때문에 서비스 처리 용량을 고려해야함
- 배포가 진행되는 동안 구버전과 신버전이 공존하는 시점이 존재하기 때문에 호환성 문제가 발생할 염려가 있다.

### 블루-그린 배포

![2](https://user-images.githubusercontent.com/79312551/181293197-46417a9b-02d6-4cc6-9808-7f0b574fdee1.png)

- 블루(구버전), 그린(신버전) 으로 지칭함
- 운영 환경에 구버전과 동일하게 신버전의 인스턴스를 구성한 후, 로드 밸런서를 통해 신버전으로 모든 트래픽을 전환하는 배포 방식
- 구버전과 동일한 운영 환경으로 신버전의 인스턴스를 구성하기 때문에 실제 서비스 환경에서 신버전을 미리 테스트할 수 있다는 장점
- 빠른 롤백가능
- 배포가 완료된 후 남아있는 기존 버전의 환경을 다음 배포에 재사용할 수 있음
- 하지만 시스템 자원이 두 배로 필요하며 새로운 환경에 대한 테스트가 전제되어야 함.

### 카나리 배포(Canary)

![3](https://user-images.githubusercontent.com/79312551/181293215-9499a55c-5080-46d0-acfa-3831ed30a41e.png)

- 옛날 광부들이 유독 가스에 민감한 카나리아 새를 이용해 가스 누출 위험을 감지했던 것에서 유래된 명칭
- 잠재적 문제 상황을 미리 발견하기 위한 방식
- 신버전의 제공 범위를 늘려가면서 모니터링 및 피드백 과정을 거칠 수 있음
- 로드밸런서를 통해 신버전의 제품을 경험하는 사용자를 조절할 수 있는 특징
- 블루-그린 방식과 유사하지만 단계적인 전환 방식을 통해 부정적 영향을 최소화 하고, 상황에 따라 트래픽을 늘리거나 롤백할 수 있음

# 오늘 느낀점

---

- 축구 전까지 끝내보려 했는데, 생각보다 부가적으로 공부해야할 내용이 많아서 마무리는 못했다!.. 내일은 소마캠프 행사가 있어서 공부를 못할 것 같은데, 그냥 욕심부리지 말고 주말까지 끝내고 다음주부터 개발 들어가는걸로! 
겸사겸사 내일은 하루 쉬어갈 생각이다!

# 내일 목표

---

- 미련없이 쉬기
