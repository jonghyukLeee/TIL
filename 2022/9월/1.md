# 오늘 목표

---

- [x]  AWS 아키텍쳐 수정
- [x]  RDS
- [x]  축구!!

# 오늘 배운점

---

## AWS 아키텍쳐 수정

### 고민사항

- ELB를 사용함에 따라 가용영역을 두 개로 분리한다.
- 서브넷을 public/private으로 분리하여 DB 및 redis 서버를 private 서브넷에 배치한다.
- 서브넷의 범위 설정과 두 개로 분리된 가용영역중 어느 위치에 redis , DB, jenkins 서버를 배치해야 하는지 잘 모르겠다. 해당 내용은 멘토링때 여쭤볼 생각이다.

### RDS

- 현재 Mysql 서버를 ec2 인스턴스로 띄워놨는데, 생각해보니 DB서버 장애 발생시에 대처할 별도의 인스턴스를 배치하지 않고 있었다.
- DB 서버를 늘리거나, RDS를 도입하여 자동 확장의 이점과 성능상의 이점을 챙기는 것도 좋은 방안인 것 같다.

## RDS의 장점

### 관리 부담 감소

- 사용 편의성 : AWS 콘솔이나 CLI, 또는 간단한 API 호출로 활용할 수 있다.
- 자동 패치
- 최적의 권장 사항 제공

### 성능

- 범용 스토리지(SSD)
- 프로비저닝된 IOPS(SSD) 스토리지

### 확장성

- 즉각적인 컴퓨팅 규모 조정 : 컴퓨팅 및 메모리 리소스를 범위 내에서 확장하거나 축소할 수 있다. (몇 분 소모)
- 간편한 스토리지 규모 조정 : 기동 중단 없이 요구가 증가함에 따라 자동으로 규모가 확장된다.
- 읽기 전용 복제본 : 손쉽게 단일 DB 인스턴스의 용량 한도 이상으로 탄력적으로 확장하여 읽기 중심의 데이터베이스 처리를 할 수 있다. 따라서 전체 읽기 처리량이 향상된다.

### 가용성 및 내구성

- 자동 백업 : 본 기능을 사용하면 데이터베이스 인스턴스를 특정 시점으로 복구할 수 있다. RDS는 데이터베이스 및 트랜잭션 로그를 백업하고, 두 로그를 모두 사용자가 지정한 보존 기간 동안 저장한다. (최대 35일)
- 데이터 베이스 스냅샷 : 스냅샷은 S3에 저장된 인스턴스에 대해 사용자가 시작하는 백업으로서 명시적으로 삭제할 때 까지 보관된다. 언제나 스냅샷 인스턴스를 생성할 수 있다.
- 다중 AZ 배포 : 데이터베이스 인스턴스의 가용성 및 내구성을 높여주므로 프로덕션 데이터베이스 워크로드에 적합. 다른 가용영역에 있는 예비 인스턴스에 데이터를 동기식으로 복제한다.
- 자동 호스트 교체 : 하드웨어 장애가 발생할 경우, 배포를 지원하는 컴퓨팅 인스턴스를 자동으로 교체한다.

### 보안

- 저장 데이터 및 전송 데이터 암호화 : KMS를 통해 암호화가 가능하다. 암호화를 실행중인 인스턴스에서는 자동 백업, 읽기 전용 복제본 및 스냅샷과 마찬가지로 기본 스토리지에 저장된 데이터가 암호화 된다.
또한 SSL을 사용하여 전송 데이터를 보호할 수 있도록 지원한다.
- 네트워크 격리 : AWS 자체 가상 네트워크에서 실행됨
- 리소스 수준 권한 : IAM 규칙 구성 가능

### 관리 효율성

- 모니터링 및 지표 : 추가비용 없이 데이터베이스 인스턴스에 대한 Amazon CloudWatch 지표를 제공한다. 사용률, I/O작업, 인스턴스 연결 등 주요 작업 지표를 볼 수 있다.
- 이벤트 알림 : Amazon SNS를 통해 데이터베이스 이벤트를 이메일이나 SMS 메시지로 알려줄 수 있다.
- 구성 거버넌스 : AWS Config와 통합되므로 파라미터 그룹, 서브넷 그룹, 스냅샷, 보안 그룹 및 이벤트 구독을 비롯하여 인스턴스 구성에 대한 변경을 기록하고 감시함으로써 규정 준수를 지원하고 보안을 강화할 수 있다.

### 비용 효율성

- 사용한 만큼만 비용 지불
- 예약 인스턴스
- 중지 및 시작 : 한 번에 최대 7일까지 인스턴스를 쉽게 중지했다 시작할 수 있다. 따라서 데이터베이스를 상시 구동하지 않아도 되는 개발 및 테스트 작업에 쉽고 저렴하게 활용할 수 있다.